Amazon S3
=========

.. admonition:: What is Amazon S3?

   - **Definition**:

     - Amazon Simple Storage Service (S3) is AWS's scalable, durable object storage service.
     - Used as a foundational building block for many AWS services and architectures.


   - **Key Concepts**:

     - Infinitely scalable storage with 99.999999999% (11 9's) durability.
     - Object-based storage: Stores data as *objects* within *buckets*.
     - Globally unique bucket names.
     - Region-specific bucket deployment.


.. admonition:: ‚úÖ Use Cases for Amazon S3

   - Backup and storage (files, disks, etc.)
   - Disaster recovery (cross-region replication)
   - Archival (e.g. S3 Glacier, cheaper long-term storage)
   - Hybrid cloud storage (on-premise + cloud)
   - Media hosting (video, images)
   - Hosting static websites
   - Delivering software updates
   - Data lakes and big data analytics


   **Real-World Examples**:

   - Nasdaq uses S3 Glacier to archive 7 years of data.
   - Sysco runs analytics to gain business insights via Amazon S3.

.. admonition:: Buckets & Objects

   - **Bucket**:

     - Top-level container in S3.
     - Created within a specific region.
     - Must have a globally unique name.

   - **Naming Requirements**:

     - No uppercase letters or underscores.
     - Length: 3 to 63 characters.
     - Must not resemble an IP address.
     - Begin with a lowercase letter or number.
     - Not start with prefix "xn- -", or end with suffix "-s3alia"

   - **Objects**:

     - Stored within buckets.
     - Each object has a *key* (full path name).
     - Keys can simulate folders using "/" separators.
     - Maximum object size: **5TB**.
     - Objects > 5GB require **multi-part upload**.

.. admonition:: Object Structure

   - **Key**:

     - Unique identifier for each object in the bucket.
     - Example: s3://my-bucket/my-folder/another-folder/myfile.txt
               kye is 'my-folder/another-folder/myfile.txt'. Prefix: my_folder/another_folder/, Object name: my_file.txt

   - **Value**:

     - Actual content (binary or text).
     - 5TB max.
     - Multi-part Upload: > 5TB max.



   - **Metadata**:

     - System-defined and user-defined key-value pairs.
     - Used to describe properties of the object.


   - **Tags**:

     - Up to 10 Unicode key-value pairs.
     - Useful for lifecycle rules, access policies, and tracking.


   - **Version ID**:

     - Assigned when versioning is enabled on the bucket.

.. admonition:: ‚úÖ Storage & Upload Notes

   - Multi-part Upload:

     - Required for uploading large files efficiently.
     - Especially for files > 5GB.


   - Versioning:

     - Enables multiple versions of the same object.
     - Useful for recovery and rollback.

.. admonition:: üîç Summary

   - Amazon S3 is foundational to many AWS architectures.
   - Offers scalable, durable, and flexible storage.
   - Suitable for backup, archival, analytics, web hosting, and more.
   - Buckets and objects are core concepts to understand.
   - Follow naming rules and regional deployment considerations.

.. admonition:: üîó To Learn More

   - Hands-on with the AWS Console to create buckets, upload objects, enable versioning.
   - Explore S3 lifecycle rules, S3 Glacier, and cross-region replication.
   - Try integrating S3 with other services (e.g., Lambda, Athena, Redshift).

.. admonition::  Security

   - User-Based:
      IAM Policies - which API calls should be allowed for a specific user from IAM.
   - Resource-Based:
      Bucket Policies - bucket wide rules from the S3 console - allows across account.
      Object Access Control List (ACL) - finer grain (can be disabled)
      Bucket Access Control List (ACL) - less common (can be disabled)

.. admonition::  S3 Bucket Policies

   - JSON based
   - Resources: buckets and objects
   - Effect: Allow/Deny
   - Actions: Set of API to Allow or Deny
   - Principal: The account or user to apply the policy to
   - If your bucket should never be public, leave the Block Public Access on.

.. admonition::  S3 Version

   - Know the difference between on and off "Show versions".
   - Off: To delete an object with a specific version, enable 'Show versions' to view versioned keys. You can reverse a deletion by removing the delete marker (version key).